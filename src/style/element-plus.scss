.el-input--large .el-input__wrapper {
  border-radius: 8px;
}

button.el-button {
  border-radius: 8px;
}

.el-form-item__label {
  font-weight: 700;
}

.el-breadcrumb__inner,
.el-breadcrumb__inner a {
  font-weight: 400 !important;
}

.el-dropdown-menu {
  padding: 0 !important;
}

.is-dark {
  z-index: 9999 !important;
}

/* 重置 el-button 中 icon 的 margin */
.reset-margin [class*="el-icon"] + span {
  margin-left: 2px !important;
}

/* 自定义 popover 的类名 */
.pure-popper {
  padding: 0 !important;
}

/* nprogress 适配 element-plus 的主题色 */
#nprogress {
  & .bar {
    background-color: var(--el-color-primary) !important;
  }

  & .peg {
    box-shadow:
      0 0 10px var(--el-color-primary),
      0 0 5px var(--el-color-primary) !important;
  }

  & .spinner-icon {
    border-top-color: var(--el-color-primary);
    border-left-color: var(--el-color-primary);
  }
}

.pure-dialog {
  .el-dialog__header.show-close {
    padding-right: 16px;
  }

  .el-dialog__headerbtn {
    top: 16px;
    right: 12px;
    width: 24px;
    height: 24px;
  }

  .pure-dialog-svg {
    color: var(--el-color-info);
  }

  .el-dialog__footer {
    padding-top: 0;
  }
}

/* 全局覆盖element-plus的el-tour、el-dialog、el-drawer、el-message-box、el-notification组件右上角关闭图标和el-upload上传文件列表右侧关闭图标的样式，表现更鲜明 */
.el-dialog__headerbtn,
.el-message-box__headerbtn {
  &:hover {
    .el-dialog__close {
      color: var(--el-color-info) !important;
    }
  }
}

.el-icon {
  &.el-tour__close,
  &.el-dialog__close,
  &.el-drawer__close,
  &.el-message-box__close,
  &.el-notification__closeBtn,
  .el-upload-list__item.is-ready &.el-icon--close {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    outline: none;
    transition:
      background-color 0.2s,
      color 0.2s;

    &:hover {
      color: rgb(0 0 0 / 88%) !important;
      text-decoration: none;
      background-color: rgb(0 0 0 / 6%);

      .pure-dialog-svg {
        color: rgb(0 0 0 / 88%) !important;
      }
    }
  }
}

/* 克隆并自定义 ElMessage 样式，不会影响 ElMessage 原本样式，在 src/utils/message.ts 中调用自定义样式 ElMessage 方法即可，整体暗色风格在 src/style/dark.scss 文件进行了适配 */
.pure-message {
  background: #fff !important;
  border-width: 0 !important;
  box-shadow:
    0 3px 6px -4px #0000001f,
    0 6px 16px #00000014,
    0 9px 28px 8px #0000000d !important;

  & .el-message__content {
    color: #000000d9 !important;
    pointer-events: all !important;
    background-image: initial !important;
  }

  & .el-message__closeBtn {
    border-radius: 4px;
    outline: none;
    transition:
      background-color 0.2s,
      color 0.2s;

    &:hover {
      background-color: rgb(0 0 0 / 6%);
    }
  }
}

/* 自定义菜单搜索样式 */
.pure-search-dialog {
  @media screen and (width > 760px) and (width <= 940px) {
    .el-input__inner {
      font-size: 12px;
    }
  }

  @media screen and (width <= 470px) {
    .el-input__inner {
      font-size: 12px;
    }
  }

  .el-dialog__header {
    display: none;
  }

  .el-input__inner {
    font-size: 1.2em;
  }

  .el-dialog__footer {
    width: calc(100% + 32px);
    padding: 10px 20px;
    margin: auto -16px -16px;
    box-shadow:
      0 -1px 0 0 #e0e3e8,
      0 -3px 6px 0 rgb(69 98 155 / 12%);
  }
}

.el-dialog {
  border-radius: 15px !important;
}

/* 仿 el-scrollbar 滚动条样式，支持大多数浏览器，如Chrome、Edge、Firefox、Safari等。整体暗色风格在 src/style/dark.scss 文件进行了适配 */
.pure-scrollbar {
  scrollbar-color: rgb(221 222 224) transparent; /* 滑块颜色、轨道颜色 */

  /* Firefox */
  scrollbar-width: thin; /* 可选值为 'auto', 'thin', 'none' */
  ::-webkit-scrollbar {
    width: 6px; /* 滚动条宽度 */
  }

  /* 滚动条轨道 */
  ::-webkit-scrollbar-track {
    background: transparent; /* 轨道颜色 */
  }

  /* 滚动条滑块 */
  ::-webkit-scrollbar-thumb {
    background-color: rgb(221 222 224);
    border-radius: 4px;
  }

  /* 滚动条滑块：hover状态 */
  ::-webkit-scrollbar-thumb:hover {
    background: rgb(199 201 203); /* 滑块hover颜色 */
  }
}

.el-form-item__error {
  font-weight: 350;
}

.el-card {
  border-radius: 10px !important;
}

.el-popper:not(.el-picker__popper) {
  overflow: hidden !important;
  color: var(--anzhiyu-fontcolor) !important;
  background: var(--anzhiyu-maskbgdeep) !important;
  backdrop-filter: blur(10px) !important;
  border: var(--style-border-always) !important;
  border-radius: 12px !important;
  box-shadow: none !important;
}

.el-dropdown-menu__item:not(.is-disabled):focus,
.el-dropdown-menu__item:not(.is-disabled):hover {
  color: var(--anzhiyu-white) !important;
  background-color: var(--anzhiyu-theme) !important;
}

.sort-dropdown-item.el-dropdown-menu__item:not(.is-disabled):focus,
.sort-dropdown-item.el-dropdown-menu__item:not(.is-disabled):hover {
  color: var(--el-color-primary, #409eff) !important;
  background-color: var(--el-color-primary-light-9, #ecf5ff) !important;
}

.el-dropdown-menu__item.active {
  color: var(--anzhiyu-white) !important;
  background-color: var(--anzhiyu-theme) !important;
}

.anzhiyu-dropdown-menu {
  transform-origin: right top;
}

.anzhiyu-dropdown-menu[aria-hidden^="false"] {
  filter: blur(0) !important;
  backdrop-filter: blur(20px);
  opacity: 1 !important;
  transition: 0.3s;
  scale: 1 !important;
}

.anzhiyu-dropdown-menu[aria-hidden^="true"] {
  filter: none;
  opacity: 0 !important;
  transition: 0.1s;
  scale: 0.85 !important;
}

.anzhiyu-dropdown-menu {
  transition: 0.1s;
}

.el-message {
  border-radius: 16px !important;
}

.el-message-box {
  border-radius: 16px !important;
}

div.el-input__wrapper {
  border-radius: 12px;
}

div.el-textarea__inner {
  border-radius: 12px;
}

.el-popper .view-switcher.el-button-group button.el-button.el-button--primary {
  border-right-color: transparent !important;
  border-left-color: transparent !important;
}

// @media screen and (max-width: 470px) {
//   .el-pagination .el-pagination__total {
//     width: 50%;
//     margin-bottom: 20px;
//   }
//   .el-pagination__sizes {
//     margin-bottom: 20px;
//   }
// }

.direct-links-dialog .el-message-box__headerbtn .el-message-box__close {
  color: var(--el-color-info) !important;
}

.direct-links-dialog {
  width: 80% !important;
  max-width: 720px !important;
}

.direct-links-dialog .el-message-box__message {
  width: 100%;
}

.direct-links-dialog .link-list-container {
  max-height: 60vh;
  padding-right: 8px;
  margin-right: -8px;
  overflow-y: auto;
}

.direct-links-dialog .link-list-container::-webkit-scrollbar {
  width: 6px;
}

.direct-links-dialog .link-list-container::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 3px;
}

.direct-links-dialog .link-list-container::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 3px;
}

.direct-links-dialog .link-list-container::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}

@media screen and (width <= 980px) {
  .el-pagination__jump.is-last {
    display: none;
  }
}

@media screen and (width <= 736px) {
  .el-pagination__total.is-first {
    display: none;
  }

  .el-pagination__sizes {
    width: 100%;
    margin: 20px 0 !important;
  }

  .el-pagination .btn-prev {
    margin-left: 0 !important;
  }

  .el-pagination {
    display: flex;
    flex-wrap: wrap;
  }
}

.el-notification {
  border-radius: 16px !important;
}

.el-popper.is-custom.custom-tooltip {
  padding: 8px 16px;
  font-size: 14px;
  font-weight: 500;
  color: #333;
  background: var(--anzhiyu-maskbgdeep) !important;
  border: none !important;
  border-radius: 15px !important;
  box-shadow: 0 4px 12px rgb(0 0 0 / 10%);
}

/* 自定义 el-tooltip 过渡动画速度 */
.el-fade-in-linear-enter-active,
.el-fade-in-linear-leave-active {
  transition: opacity 0.1s linear;
}

.el-fade-in-linear-enter-from,
.el-fade-in-linear-leave-to {
  opacity: 0;
}

// 全局隐藏 tooltip 箭头
.el-popper > .el-popper__arrow {
  display: none !important;
}

body.el-popup-parent--hidden {
  overflow: auto;
  width: auto !important;
}

// ==================== el-select 样式覆盖（与 AnSelect 保持一致） ====================
.el-select {
  width: 100%;

  .el-select__wrapper {
    min-height: 32px;
    padding: 0 12px;
    font-size: 14px;
    line-height: 1.5;
    color: var(--anzhiyu-fontcolor);
    cursor: pointer;
    background: var(--anzhiyu-card-bg);
    border: 1px solid var(--anzhiyu-card-border);
    border-radius: 8px;
    box-shadow: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    &:hover {
      border-color: var(--anzhiyu-main);
      box-shadow: 0 0 0 2px rgba(var(--anzhiyu-main-rgb), 0.1);
    }

    &.is-focused {
      border-color: var(--anzhiyu-main);
      box-shadow: 0 0 0 3px rgba(var(--anzhiyu-main-rgb), 0.15);
    }
  }

  .el-select__placeholder {
    color: var(--anzhiyu-secondtext);
  }

  .el-select__suffix {
    .el-icon {
      color: var(--anzhiyu-secondtext);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
  }

  &.is-focused .el-select__wrapper {
    border-color: var(--anzhiyu-main);
    box-shadow: 0 0 0 3px rgba(var(--anzhiyu-main-rgb), 0.15);
  }

  // 禁用状态
  &.is-disabled {
    cursor: not-allowed;
    opacity: 0.6;

    .el-select__wrapper {
      cursor: not-allowed;
      background: var(--anzhiyu-secondbg);
    }
  }
}

// el-select 下拉框样式
.el-select__popper.el-popper {
  padding: 6px;
  overflow: hidden;
  background: var(--anzhiyu-card-bg) !important;
  border: var(--style-border) !important;
  border-radius: 12px !important;
  box-shadow:
    0 3px 6px -4px rgba(0, 0, 0, 0.12),
    0 6px 16px 0 rgba(0, 0, 0, 0.08),
    0 9px 28px 8px rgba(0, 0, 0, 0.05) !important;
  backdrop-filter: blur(8px);

  .el-select-dropdown__list {
    padding: 0;
  }

  .el-select-dropdown__item {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
    min-height: 36px;
    padding: 8px 12px;
    font-size: 14px;
    color: var(--anzhiyu-fontcolor);
    cursor: pointer;
    background: transparent;
    border-radius: 6px;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

    &:hover {
      color: var(--anzhiyu-fontcolor);
      background: var(--anzhiyu-secondbg);
    }

    &.is-selected,
    &.selected {
      color: var(--anzhiyu-main);
      font-weight: 500;
      background: rgba(var(--anzhiyu-main-rgb), 0.1);

      &:hover {
        background: rgba(var(--anzhiyu-main-rgb), 0.15);
      }
    }

    &.is-disabled {
      color: var(--anzhiyu-lighttext);
      cursor: not-allowed;
      opacity: 0.5;

      &:hover {
        background: transparent;
      }
    }
  }

  // 滚动条样式
  .el-scrollbar__bar {
    opacity: 0.3;
    transition: opacity 0.3s;
  }

  &:hover .el-scrollbar__bar {
    opacity: 1;
  }

  .el-scrollbar__thumb {
    background: var(--anzhiyu-secondtext);
    border-radius: 3px;

    &:hover {
      background: var(--anzhiyu-fontcolor);
    }
  }
}

// 移动端适配
@media (width <= 768px) {
  .el-select .el-select__wrapper {
    min-height: 44px;
    font-size: 16px; // 防止 iOS 自动缩放
  }

  .el-select__popper.el-popper .el-select-dropdown__item {
    min-height: 44px;
    font-size: 16px;
  }
}
